

# Цел на глава от книгата #

> _"...шаблоните са 'полуопечени' - или с други думи, винаги е нужно човек да ги довърши сам и да ги адаптира към неговата собствена среда и нужда."_ (Мартин Фолър, "Design patterns", 2003, IEEE Computer Society)

Целта на всяка една глава от книгата е да се обясни на читателя какво представлява даден шаблон, в какви ситуации се използва, каква е структурата му и да се даде пример как би се имплементирал въпросния шаблон, като

```
най-важното, което целим с тази книга е да обясним идеята на шаблона. 
```

Шаблонът сам по себе си **не е код**, **той е идея** за това как да се разреши често срещан проблем. Затова трябва да запознаем читателя с идеята, с генералния случай, с абстракцията, да му предадем това усещане, за нещо генерално.

Трябва да се обърне внимание, че **не показваме как шаблоните се имплементират с помоща на езика Java, нито къде в езика Java те са приложени**. В тази книгата, Java не е цел, а просто помощно средство, което спомага за онагледяването на абстрактна идея.

## Поднасяне на информацията ##

... или **от абстракцията към частния случай**.

За да накараме читателя, когато някой ден чуе името на шаблона, да го асоциира с идеята, а не с някакъв код или конкретен клас/пакет/framework в Java, трябва да му поднесем първо абстракцията, след което да му я обясним и накрая да стигнем до частния случай - имплементацията на конкретния шаблон.

Начинът, по който е удобно да стане това, е като се следват следните стъпки:

  1. **поднасяме абстракцията (идеята) за шаблона**. След като приключим продължаваме към следващите стъпки, в които правим **"дисекция" на идеята/абстракцията** на шаблона, като разглеждаме последователно:
  1. в какви ситуации е подходящо да използваме този шаблон,
  1. кои са **неговите участници** (елементи) и **как те взаимодействат** помежду си,
  1. правим **оценка на предимствата и недостатъците** на шаблона, след което
  1. даваме **съвети за реализацията** на шаблона, като се стараем да не пишем все още код (освен ако не е наложащо) и чак след това
  1. **онагледяваме** как би се имплементирал шаблона **със средствата на Java**

Отново, през цялото време, фокуса ни е върху идеята. Ако даваме примери, то е единствено, за да улесним читателя в процеса на осъзнаването на тази идея.

Това е, не искаме читателя да асоциира шаблона с даден клас на Java-та, или с някакъв конкретна имплементация. Искаме да постигнем обратното - на първо място - той/тя да схване идеята, за да може сам(а) да я имплементира на произволен програмен език и от друга страна ако види непознат код, който имплементира някакъв шаблон, да може лесно да разпознае идеята и да се ориентира в кода.

# Съдържание на секциите #

В следващите секции ще дадем кратки инструкции във връзка с отделните секции предвидени във всяка една глава (свързана с класически шаблон) от книгата.

## В тази тема ##

Тук накратко трябва да се изложи какво се очаква да се научи в тази глава. Съвсем кратко, в един абзац направете обзор на най-важните точки от главата.

Ако е възможно, не цитирайте заглавията на основните секции. Читателят ще се е запознал със структурата на всяка една глава и няма да има нужда вие да му описвате секциите.

По-скоро се концентрирайте се върху особеностите на главата ви - основното, което ще кажете за шаблона, за който пишете, евентуално забележителни имплементации... ако имате оригинално приложение на шаблона можете да го споменете и него.

## Цел на шаблона ##

В тази секция, с едно, но не повече от две (не дълги) изречение обяснете същността на шаблона - какво прави и/или какъв проблем решава... Идеята е читателят да хвърли един поглед и да разбере/си припомни целта на шаблона. Не бъдете многословни. Кратко и ясно изложете същността.

## Други наименования ##

За тази секция, потърсете други имена, под които шаблона е известен. Ако са на английски (или друг език), опитайте се да ги преведете по най-подходящия начин на български, така че да превода да отразява възможно най-точно смисъла на алтернативното наименование на шаблона.

В случай, че чуждестранното наименование на шаблона е невъзможно да бъде преведено, транскрибирайте го, по правилата на българския език (например "Singleton" го транскрибираме с български букви: "Сингълтон"). Ако имате съмнения за това как се транскрибира дадена дума, погледнете в началото на произволен правописен речник - там са описани всички правила на българския език.

В случай, че правописния речник не помогне, поискайте съвет в дискусионната група на проекта, за да могат повече хора да помислят върху "костеливия орех", на който сте се натъкнали и да се намери най-подходящия превод/транскрипция.

## Проблем ##

**Измислете примерен проблем**, чието решение класовете и обектите на шаблона, илюстрират най-добре. С тази секция искаме да накараме читателя да "усети" как шаблона би ни помогнал за разрешаването на проблемната ситуация, която сме описали преди това. Можем да считаме тази секция като **плавен преход/въведение към изложението на същността на шаблона**.

Помислете добре за примерен проблем. **Не копирайте** от книгата на Гама, друга книга или от интернет. С тази книга се опитваме да създадем нещо ново. Понякога измислянето на пример е трудно, но от друга страна, по този начин обогатяваме литературата и създаваме нещо уникално.

Като измислите нещо, **направете проверка в интернет**, дали някой не се е досетил вече за него и ако е така, опитайте се да намерите друг пример. Много често, примерите, които са давани в литературата са доста интуитивни и много хора ги преоткриват, когато се опитат да измислят пример за даден шаблон. Нормално е, великите умове мислят подобно ;)

Ако се случи така, че някой ви е изпреварил с измислянето на примерен проблем, **не "захвърляйте" намереното** :) От него става чудесна задача, която можете да добавите в секцията "Упражнения" на главата :)

След като сте намерили интересен проблем, с чиято помощ да въведете шаблона, опитайте се да го поднесете по такъв начин, че шаблона да изпъкне при показване на решението. С други думи, **не претрупвайте проблема с излишни детайли**. Със сложен пример рискувате да объркате читателя и той да се фокусира върху елементи на проблема, които нямат отношение към шаблона (или можете просто да го отегчите).

Хубав съвет за поднасянето на проблема е този на Айнщайн - **опитайте се да го представите по опростен начин, но не и прекалено опростен**. :)

Към проблема добавете UML диаграма или обикновена`*` схема/скица/диаграма. Както гласи известната поговорка - **UML (или обикновената) диаграма струва повече от хиляди думи**.

`*` (макар и учудващо, но PowerPoint може много да ви помогне в създаването на обикновени диаграми)

Избягвайте да слагате код или примери свързани с имплементацията в тази секция. Тук се опитваме да поднесем абстракцията на читателя и конкретики не са ни нужни.

## Приложимост ##

В тази секция, кратко и ясно се описват основните случаи, при които се използва шаблона.

## Структура ##

В тази секция се очаква, че ще бъдат добавени необходимите **UML диаграми** (клас/обектни/интерактивни и т.н.), които **онагледяват структурата на шаблона**. Много често, тези диаграми ще са подобни на диаграмите от предходната секция, но **имената на участниците**, няма да са обвързани с конкретния пример, а ще са с **имената на елементите на шаблона**.

## Описание ##

В тази секция даваме **елементите на шаблона**, както и **как точно шаблона функционира**. Тя е разделена на **две подсекции** - участници и взаимодействия. В **началото на секцията** с не повече от **един (максимум два) абзац(а)** обясняваме на читателя, че в тук ще разгледаме основните елементи на шаблона и преминаваме към първата подсекция.

### Участници ###

В тази подсекция **описваме всеки един от обектите или класовете**, участващи в шаблона.

Представяме **всеки един от участниците** с **българското му наименование**, придружено от **английското в скоби**, например _"Абстрактна фабрика (Abstract Factory)"_.

За да може читателят да обвърже теорията с конкретния пример от секцията "Проблем", след като сме представили участника, указваме на кой елемент от UML диаграмата на примерния проблем, този участник в шаблона съответства.

След това в **едно изречение** обясняваме каква е **ролята** на конкретния елемент на шаблона.

Понякога, даден елемент може да има **няколко предназначения**. В този случай ги изброяваме в (неномериран) **списък**, като отново се опитваме да бъдем кратки и точни в обясненията си.

### Взаимодействия ###

В тази секция обясняваме как елементите на шаблона си взаимодействат. **Всяко едно взаимодействие** го описваме кратко и ясно с няколко изречения и го отделяма като **отделен елемент от списък**.

## Оценка на шаблона ##

Тук обясняваме на читателя какви са **преимуществата и недостатъците на шаблона**, какво печелим и какво жертваме използвайки го.

Обясняваме коя част от нашата система шаблона засяга и каква свобода за промяна ни предоставя за в бъдеще употребата на този шаблон.

## Реализация ##

В тази секция, изброявайки ги в списък, даваме **конкретни упътвания** на потребителя за особености **при реализацията на шаблона**, обръщайки внимание на:

  * **проблемни особености** при имплементацията,
  * **съвети** и **подходи** как може да бъде имплементиран шаблона, както и
  * упътвания в случай, че има **особености при имплементацията** на шаблона **с Java**.

Обясненията ни трябва да са изчерпателни, но възможно най-кратки и ясни.

**Започнете** всяка особеност **с кратко изречение**, което **дава идея** за това, **какво ще обясните в тази точка**. Нека това изречение е форматирано със стила `DPB-Resume`. По този начин, читателят с един поглед може да обхване лесно особеностите при реализацията.

Трябва да отбележим, че едва в тази секция, **ако обяснението** на конкретно упътване **има нужда от код**, можем да добавим код, но като цяло **отново се ограничиме до отрязък от код**, който е **фокусиран точно върху особеността, която онагледява**.

По-дълга имплементация ще бъде представена във всяка една от секциите "Пример: ... (Java)".

## Познати приложения ##

В тази секция предлагаме на читателя някои **интересни приложения** на шаблона, които сме открили, като например:

  * в Java-базирани платформи (frameworks) - напр. имплементацията на АОП в Spring платформата е реализирана с шаблона "Прокси"
  * в учебници - напр. използването на шаблона "Строител" при конструирането на обекти - вж. Effective Java, глава 2.
  * в Java,
  * в Java-базирани системи,
  * и т.н.

Стремим се да намерим **възможно най-генерално приложение** на шаблона, за който пишем, **колкото се може по-необвързано с конкретна платформа**, езика Java, система и т.н. Целта е да направим книгата възможно по-генерална, за да може ако някой я вземе **след пет или десет години примерите да не са морално остарели** (напр. примерът за дадена платформа да не говори нищо на читателя, т.к. платформата е излязла от употреба и читателят не знае нищо за нея).

По същата логика, като цяло е добре да **избягваме прекалено специфични примери** (напр. някоя много дълбоко скрита имплементация в езика Java), тъй при следваща версия на Java, тази реализация може да бъде променена и тогава книгата ни става морално остаряла.

## Пример: _Име на примера_ (Java)`*` ##

В тази секция **предлагаме примерен проблем** и **съответно реализация** на този проблем **чрез шаблона**, за който пишем, **имплементирани на езика Java**.

Ако някое от приложенията, които сме дали в глава "Познати приложения", е интересно за имплементация (като например примера за използването на шаблона "Строител" за конструкцията на обекти) можем да го имплементираме в тази глава.

Друга алтернатива е, ако шаблона има множество начини за реализация, да покажем тези начини, всеки в отделна секция "Пример:...(Java)"`*`.

Друга възможност е да си измислим **собствен примерен проблем**, който да **онагледява приложението на шаблона** и да покажем негова имплементация.

Java класовете, които се дават в тази глава, трябва да се добавят в хранилището.

[@organizers: да се обясни за пакетната структура и примерния код в самата глава]

**`*`** Можем да имаме няколко секции "Пример:... (Java)". Това зависи, дали имаме повече от един пример. Ако можем да предоставим повече от един пример би било чудесно. По този начин читателят може да види различни начини на реализиране на шаблона!

## "Упражнения" и "Решения и упътвания" ##

Макар и да изглежда лесна задача, понякога измислянето на задачи за упражнение може да бъде доста трудно начинание. Както казахме по-горе, ако сме срещали някаква идея или някакво приложение за шаблона, което ни се струва интересно, но го има описано в книга или друг материал, ние можем да го дадем като задачка и като упътване/решение можем да дадем или наша идея за решение или класическия подход за решение използвайки този шаблон.

Друг вариант е, ако сме се **сблъсквали с някакъв интересен проблем** на работата или в опита ни с програмирането като цяло, който е **свързан с нашия шаблон**, можем просто **да го опишем като задача**, за да може читателят да помисли върху него също. Ако дадем и нашето решение, или упътване за решение би било чудесно, т.к. така споделим опита си с читателя, както и с всеки, който използва книгата за справочник или пък се е натъкнал(а) на същия проблем или приложение като нас :)